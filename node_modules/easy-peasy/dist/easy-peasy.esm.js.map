{"version":3,"file":"easy-peasy.esm.js","sources":["../src/context.js","../src/hooks.js","../src/constants.js","../src/helpers.js","../src/lib.js","../src/create-reducer.js","../src/persistence.js","../src/actions.js","../src/thunks.js","../src/listeners.js","../src/computed-properties.js","../src/extract-data-from-model.js","../src/create-store-internals.js","../src/create-store.js","../src/create-context-store.js","../src/create-component-store.js","../src/create-transform.js","../src/provider.js","../src/index.js"],"sourcesContent":["import { createContext } from 'react';\n\nconst StoreContext = createContext();\n\nexport default StoreContext;\n","import {\n  useContext,\n  useEffect,\n  useLayoutEffect,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport EasyPeasyContext from './context';\n\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\nconst useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport function createStoreStateHook(Context) {\n  return function useStoreState(mapState) {\n    const store = useContext(Context);\n    const mapStateRef = useRef(mapState);\n    const stateRef = useRef();\n    const mountedRef = useRef(true);\n    const subscriptionMapStateError = useRef();\n\n    const [, forceRender] = useReducer(s => s + 1, 0);\n\n    if (\n      subscriptionMapStateError.current ||\n      mapStateRef.current !== mapState ||\n      stateRef.current === undefined\n    ) {\n      try {\n        stateRef.current = mapState(store.getState());\n      } catch (err) {\n        let errorMessage = `An error occurred trying to map state in a useStoreState hook: ${err.message}.`;\n        if (subscriptionMapStateError.current) {\n          errorMessage += `\\nThis error may be related to the following error:\\n${subscriptionMapStateError.current.stack}\\n\\nOriginal stack trace:`;\n        }\n        throw new Error(errorMessage);\n      }\n    }\n\n    useIsomorphicLayoutEffect(() => {\n      mapStateRef.current = mapState;\n      subscriptionMapStateError.current = undefined;\n    });\n\n    useIsomorphicLayoutEffect(() => {\n      const checkMapState = () => {\n        try {\n          const newState = mapStateRef.current(store.getState());\n          if (newState === stateRef.current) {\n            return;\n          }\n          stateRef.current = newState;\n        } catch (err) {\n          // see https://github.com/reduxjs/react-redux/issues/1179\n          // There is a possibility mapState will fail due to stale state or\n          // props, therefore we will just track the error and force our\n          // component to update. It should then receive the updated state\n          subscriptionMapStateError.current = err;\n        }\n        if (mountedRef.current) {\n          forceRender({});\n        }\n      };\n      const unsubscribe = store.subscribe(checkMapState);\n      checkMapState();\n      return () => {\n        mountedRef.current = false;\n        unsubscribe();\n      };\n    }, []);\n\n    return stateRef.current;\n  };\n}\n\nexport const useStoreState = createStoreStateHook(EasyPeasyContext);\n\nexport function createStoreActionsHook(Context) {\n  return function useStoreActions(mapActions) {\n    const store = useContext(Context);\n    return mapActions(store.getActions());\n  };\n}\n\nexport const useStoreActions = createStoreActionsHook(EasyPeasyContext);\n\nexport function createStoreDispatchHook(Context) {\n  return function useStoreDispatch() {\n    const store = useContext(Context);\n    return store.dispatch;\n  };\n}\n\nexport const useStoreDispatch = createStoreDispatchHook(EasyPeasyContext);\n\nexport function useStore() {\n  return useContext(EasyPeasyContext);\n}\n\nexport function createStoreRehydratedHook(Context) {\n  return function useStoreRehydrated() {\n    const store = useContext(Context);\n    const [rehydrated, setRehydrated] = useState(false);\n    useEffect(() => {\n      store.persist.resolveRehydration().then(() => setRehydrated(true));\n    }, []);\n    return rehydrated;\n  };\n}\n\nexport const useStoreRehydrated = createStoreRehydratedHook(EasyPeasyContext);\n\nexport function createTypedHooks() {\n  return {\n    useStoreActions,\n    useStoreDispatch,\n    useStoreState,\n    useStoreRehydrated,\n    useStore,\n  };\n}\n","export const actionSymbol = 'ðŸ™ˆactionðŸ™ˆ';\nexport const actionOnSymbol = 'ðŸ™ˆactionOnðŸ™ˆ';\nexport const computedSymbol = 'ðŸ™ˆcomputedSymbolðŸ™ˆ';\nexport const persistSymbol = 'ðŸ™ˆpersistSymbolðŸ™ˆ';\nexport const reducerSymbol = 'ðŸ™ˆreducerðŸ™ˆ';\nexport const thunkOnSymbol = 'ðŸ™ˆthunkOnðŸ™ˆ';\nexport const thunkSymbol = 'ðŸ™ˆthunkðŸ™ˆ';\n","import { isDraft, original } from 'immer-peasy';\nimport memoizerific from 'memoizerific';\nimport {\n  actionOnSymbol,\n  actionSymbol,\n  computedSymbol,\n  persistSymbol,\n  reducerSymbol,\n  thunkOnSymbol,\n  thunkSymbol,\n} from './constants';\n\nexport const debug = state => {\n  if (isDraft(state)) {\n    return original(state);\n  }\n  return state;\n};\n\nexport const memo = (fn, cacheSize) => memoizerific(cacheSize)(fn);\n\nexport const actionOn = (targetResolver, fn) => {\n  fn[actionOnSymbol] = {\n    targetResolver,\n  };\n  return fn;\n};\n\nexport const action = fn => {\n  fn[actionSymbol] = {};\n  return fn;\n};\n\nconst defaultStateResolvers = [state => state];\n\nexport const computed = (fnOrStateResolvers, fn) => {\n  if (typeof fn === 'function') {\n    fn[computedSymbol] = {\n      stateResolvers: fnOrStateResolvers,\n    };\n    return fn;\n  }\n  fnOrStateResolvers[computedSymbol] = {\n    stateResolvers: defaultStateResolvers,\n  };\n  return fnOrStateResolvers;\n};\n\nexport const persist = (model, config) => {\n  return {\n    ...model,\n    [persistSymbol]: config,\n  };\n};\n\nexport const thunkOn = (targetResolver, fn) => {\n  fn[thunkOnSymbol] = {\n    targetResolver,\n  };\n  return fn;\n};\n\nexport const thunk = fn => {\n  fn[thunkSymbol] = {};\n  return fn;\n};\n\nexport const reducer = fn => {\n  fn[reducerSymbol] = {};\n  return fn;\n};\n","import isPlainObject from 'is-plain-object';\nimport { createDraft, finishDraft, isDraft } from 'immer-peasy';\n\nexport const deepCloneStateWithoutComputed = source => {\n  const recursiveClone = current => {\n    const next = Object.keys(current).reduce((acc, key) => {\n      if (Object.getOwnPropertyDescriptor(current, key).get == null) {\n        acc[key] = current[key];\n      }\n      return acc;\n    }, {});\n    Object.keys(next).forEach(key => {\n      if (isPlainObject(next[key])) {\n        next[key] = recursiveClone(next[key]);\n      }\n    });\n    return next;\n  };\n  return recursiveClone(source);\n};\n\nexport const isPromise = x => {\n  return x != null && typeof x === 'object' && typeof x.then === 'function';\n};\n\nexport function get(path, target) {\n  return path.reduce((acc, cur) => {\n    return isPlainObject(acc) ? acc[cur] : undefined;\n  }, target);\n}\n\nexport function newify(currentPath, currentState, finalValue) {\n  if (currentPath.length === 0) {\n    return finalValue;\n  }\n  const newState = { ...currentState };\n  const key = currentPath[0];\n  if (currentPath.length === 1) {\n    newState[key] = finalValue;\n  } else {\n    newState[key] = newify(currentPath.slice(1), newState[key], finalValue);\n  }\n  return newState;\n}\n\nexport const set = (path, target, value) => {\n  if (path.length === 0) {\n    if (typeof value === 'object') {\n      Object.keys(target).forEach(key => {\n        delete target[key];\n      });\n      Object.keys(value).forEach(key => {\n        target[key] = value[key];\n      });\n    }\n    return;\n  }\n  path.reduce((acc, cur, idx) => {\n    if (idx + 1 === path.length) {\n      acc[cur] = value;\n    } else {\n      acc[cur] = acc[cur] || {};\n    }\n    return acc[cur];\n  }, target);\n};\n\nexport function createSimpleProduce(disableImmer = false) {\n  return function simpleProduce(path, state, fn) {\n    if (disableImmer) {\n      const current = get(path, state);\n      const next = fn(current);\n      if (current !== next) {\n        return newify(path, state, next);\n      }\n      return state;\n    }\n    if (path.length === 0) {\n      const draft = createDraft(state);\n      const result = fn(draft);\n      if (result) {\n        return isDraft(result) ? finishDraft(result) : result;\n      }\n      return finishDraft(draft);\n    }\n    const parentPath = path.slice(0, path.length - 1);\n    const draft = createDraft(state);\n    const parent = get(parentPath, state);\n    const current = get(path, draft);\n    const result = fn(current);\n\n    if (result) {\n      parent[path[path.length - 1]] = result;\n    }\n    return finishDraft(draft);\n  };\n}\n","import { createSimpleProduce, get } from './lib';\nimport { actionSymbol, actionOnSymbol } from './constants';\n\nexport default function createReducer(\n  disableImmer,\n  actionReducersDict,\n  customReducers,\n  computedProperties,\n) {\n  const simpleProduce = createSimpleProduce(disableImmer);\n\n  const runActionReducerAtPath = (state, action, actionReducer, path) => {\n    return simpleProduce(path, state, draft =>\n      actionReducer(draft, action.payload),\n    );\n  };\n\n  const reducerForActions = (state, action) => {\n    const actionReducer = actionReducersDict[action.type];\n    if (actionReducer) {\n      const actionMeta =\n        actionReducer[actionSymbol] || actionReducer[actionOnSymbol];\n      return runActionReducerAtPath(\n        state,\n        action,\n        actionReducer,\n        actionMeta.parent,\n      );\n    }\n    return state;\n  };\n\n  const reducerForCustomReducers = (state, action) => {\n    return customReducers.reduce((acc, { parentPath, key, reducer: red }) => {\n      return simpleProduce(parentPath, acc, draft => {\n        draft[key] = red(draft[key], action);\n        return draft;\n      });\n    }, state);\n  };\n\n  const rootReducer = (state, action) => {\n    const stateAfterActions = reducerForActions(state, action);\n    const next =\n      customReducers.length > 0\n        ? reducerForCustomReducers(stateAfterActions, action)\n        : stateAfterActions;\n    if (state !== next) {\n      computedProperties.forEach(({ parentPath, bindComputedProperty }) => {\n        bindComputedProperty(get(parentPath, next));\n      });\n    }\n    return next;\n  };\n\n  return rootReducer;\n}\n","import debounce from 'debounce';\nimport isPlainObject from 'is-plain-object';\nimport { deepCloneStateWithoutComputed, get, isPromise, set } from './lib';\n\nconst noopStorage = {\n  getItem: () => undefined,\n  setItem: () => undefined,\n  removeItem: () => undefined,\n};\n\nconst localStorage =\n  typeof window !== 'undefined' && typeof window.localStorage !== 'undefined'\n    ? window.localStorage\n    : noopStorage;\n\nconst sessionStorage =\n  typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined'\n    ? window.sessionStorage\n    : noopStorage;\n\nfunction createStorageWrapper(storage = sessionStorage, transformers = []) {\n  if (typeof storage === 'string') {\n    if (storage === 'localStorage') {\n      storage = localStorage;\n    } else if (storage === 'sessionStorage') {\n      storage = sessionStorage;\n    } else {\n      if (process.env.NODE_ENV === 'development') {\n        console.warn(\n          `Invalid storage provider specified for Easy Peasy persist: ${storage}\\nValid values include \"localStorage\", \"sessionStorage\" or a custom storage engine.`,\n        );\n      }\n      storage = noopStorage;\n    }\n  }\n\n  const outTransformers = transformers.reverse();\n\n  const serialize = (data, key) => {\n    const simpleKey = key.substr(key.indexOf('@') + 1);\n    const transformed = transformers.reduce((acc, cur) => {\n      return cur.in(acc, simpleKey);\n    }, data);\n    return storage === localStorage || storage === sessionStorage\n      ? JSON.stringify({ data: transformed })\n      : transformed;\n  };\n  const deserialize = (data, key) => {\n    const simpleKey = key.substr(key.indexOf('@') + 1);\n    const result =\n      storage === localStorage || storage === sessionStorage\n        ? JSON.parse(data).data\n        : data;\n    return outTransformers.reduce((acc, cur) => {\n      return cur.out(acc, simpleKey);\n    }, result);\n  };\n\n  const isAsync = isPromise(storage.getItem('_'));\n\n  return {\n    isAsync,\n    getItem: key => {\n      if (isAsync) {\n        return storage.getItem(key).then(wrapped => {\n          return wrapped != null ? deserialize(wrapped, key) : undefined;\n        });\n      }\n      const wrapped = storage.getItem(key);\n      return wrapped != null ? deserialize(wrapped, key) : undefined;\n    },\n    setItem: (key, data) => {\n      return storage.setItem(key, serialize(data, key));\n    },\n    removeItem: key => {\n      return storage.removeItem(key);\n    },\n  };\n}\n\nexport function extractPersistConfig(path, persistDefinition = {}) {\n  return {\n    path,\n    config: {\n      blacklist: persistDefinition.blacklist || [],\n      mergeStrategy: persistDefinition.mergeStrategy || 'merge',\n      storage: createStorageWrapper(\n        persistDefinition.storage,\n        persistDefinition.transformers,\n      ),\n      whitelist: persistDefinition.whitelist || [],\n    },\n  };\n}\n\nfunction resolvePersistTargets(target, whitelist, blacklist) {\n  let targets = Object.keys(target);\n  if (whitelist.length > 0) {\n    targets = targets.reduce((acc, cur) => {\n      if (whitelist.findIndex(x => x === cur) !== -1) {\n        return [...acc, cur];\n      }\n      return acc;\n    }, []);\n  }\n  if (blacklist.length > 0) {\n    targets = targets.reduce((acc, cur) => {\n      if (blacklist.findIndex(x => x === cur) !== -1) {\n        return acc;\n      }\n      return [...acc, cur];\n    }, []);\n  }\n  return targets;\n}\n\nexport function createPersistor(persistKey, references) {\n  return debounce(() => {\n    references.internals.persistenceConfig.forEach(({ path, config }) => {\n      const { storage, whitelist, blacklist } = config;\n      const state = references.getState();\n      const persistRoot = deepCloneStateWithoutComputed(get(path, state));\n      const targets = resolvePersistTargets(persistRoot, whitelist, blacklist);\n      targets.forEach(key => {\n        const targetPath = [...path, key];\n        storage.setItem(persistKey(targetPath), get(targetPath, state));\n      });\n    });\n  }, 1000);\n}\n\nexport function createPersistMiddleware(persistor, references) {\n  return () => next => action => {\n    const state = next(action);\n    if (\n      action &&\n      action.type !== '@action.easyPeasyReplaceState' &&\n      references.internals.persistenceConfig.length > 0\n    ) {\n      persistor(state);\n    }\n    return state;\n  };\n}\n\nexport function createPersistenceClearer(persistKey, references) {\n  return () =>\n    new Promise((resolve, reject) => {\n      references.internals.persistenceConfig.forEach(({ path, config }) => {\n        const { storage, whitelist, blacklist } = config;\n        const persistRoot = get(path, references.getState());\n        const targets = resolvePersistTargets(\n          persistRoot,\n          whitelist,\n          blacklist,\n        );\n        if (targets.length > 0) {\n          Promise.all(\n            targets.map(key => {\n              const targetPath = [...path, key];\n              return storage.removeItem(persistKey(targetPath));\n            }),\n          ).then(() => resolve(), reject);\n        } else {\n          resolve();\n        }\n      });\n    });\n}\n\nexport function rehydrateStateFromPersistIfNeeded(\n  persistKey,\n  replaceState,\n  references,\n) {\n  // If we have any persist configs we will attemp to perform a state rehydration\n  let resolveRehydration = Promise.resolve();\n  if (references.internals.persistenceConfig.length > 0) {\n    references.internals.persistenceConfig.forEach(persistInstance => {\n      const { path, config } = persistInstance;\n      const { blacklist, mergeStrategy, storage, whitelist } = config;\n\n      const state = references.internals.defaultState;\n      const persistRoot = deepCloneStateWithoutComputed(get(path, state));\n      const targets = resolvePersistTargets(persistRoot, whitelist, blacklist);\n\n      const applyRehydrationStrategy = (originalState, rehydratedState) => {\n        if (mergeStrategy === 'overwrite') {\n          set(path, originalState, rehydratedState);\n        } else if (mergeStrategy === 'merge') {\n          const target = get(path, originalState);\n          Object.keys(rehydratedState).forEach(key => {\n            target[key] = rehydratedState[key];\n          });\n        } else if (mergeStrategy === 'mergeDeep') {\n          const target = get(path, originalState);\n          const setAt = (currentTarget, currentNext) => {\n            Object.keys(currentNext).forEach(key => {\n              const data = currentNext[key];\n              if (isPlainObject(data)) {\n                if (!isPlainObject(currentTarget[key])) {\n                  currentTarget[key] = {};\n                }\n                setAt(currentTarget[key], data);\n              } else {\n                currentTarget[key] = data;\n              }\n            });\n          };\n          setAt(target, rehydratedState);\n        }\n      };\n\n      if (storage.isAsync) {\n        const asyncStateResolvers = targets.reduce((acc, key) => {\n          const targetPath = [...path, key];\n          const dataPromise = storage.getItem(persistKey(targetPath));\n          if (isPromise(dataPromise)) {\n            acc.push({\n              key,\n              dataPromise,\n            });\n          }\n          return acc;\n        }, []);\n        if (asyncStateResolvers.length > 0) {\n          resolveRehydration = Promise.all(\n            asyncStateResolvers.map(x => x.dataPromise),\n          ).then(resolvedData => {\n            const next = resolvedData.reduce((acc, cur, idx) => {\n              const { key } = asyncStateResolvers[idx];\n              if (cur !== undefined) {\n                acc[key] = cur;\n              }\n              return acc;\n            }, {});\n            if (Object.keys(next).length === 0) {\n              return;\n            }\n            applyRehydrationStrategy(state, next);\n            replaceState(state);\n          });\n        }\n      } else {\n        const next = targets.reduce((acc, key) => {\n          const targetPath = [...path, key];\n          const data = storage.getItem(persistKey(targetPath));\n          if (data !== undefined) {\n            acc[key] = data;\n          }\n          return acc;\n        }, {});\n        applyRehydrationStrategy(state, next);\n        replaceState(state);\n      }\n    });\n  }\n  return resolveRehydration;\n}\n","import { actionSymbol, actionOnSymbol } from './constants';\n\nexport function createActionCreator(actionDefinition, meta, references) {\n  const prefix = actionDefinition[actionSymbol] ? '@action' : '@actionOn';\n  const type = `${prefix}.${meta.path.join('.')}`;\n  const actionMeta =\n    actionDefinition[actionSymbol] || actionDefinition[actionOnSymbol];\n  actionMeta.actionName = meta.key;\n  actionMeta.type = type;\n  actionMeta.parent = meta.parent;\n  actionMeta.path = meta.path;\n\n  const actionCreator = payload => {\n    const action = {\n      type,\n      payload,\n    };\n    if (actionDefinition[actionOnSymbol] && actionMeta.resolvedTargets) {\n      payload.resolvedTargets = [...actionMeta.resolvedTargets];\n    }\n    const result = references.dispatch(action);\n    return result;\n  };\n  actionCreator.type = type;\n\n  return actionCreator;\n}\n","import { thunkSymbol, thunkOnSymbol } from './constants';\nimport { get } from './lib';\n\nexport function createThunkHandler(\n  thunkDefinition,\n  meta,\n  references,\n  injections,\n  actionCreators,\n) {\n  const thunkMeta =\n    thunkDefinition[thunkSymbol] || thunkDefinition[thunkOnSymbol];\n\n  return payload => {\n    const helpers = {\n      dispatch: references.dispatch,\n      getState: () => get(meta.parent, references.getState()),\n      getStoreActions: () => actionCreators,\n      getStoreState: references.getState,\n      injections,\n      meta,\n    };\n    if (thunkDefinition[thunkOnSymbol] && thunkMeta.resolvedTargets) {\n      payload.resolvedTargets = [...thunkMeta.resolvedTargets];\n    }\n    return thunkDefinition(get(meta.parent, actionCreators), payload, helpers);\n  };\n}\n\nexport function createThunkActionsCreator(\n  thunkDefinition,\n  meta,\n  references,\n  thunkHandler,\n) {\n  const prefix = thunkDefinition[thunkSymbol] ? '@thunk' : '@thunkOn';\n  const type = `${prefix}.${meta.path.join('.')}`;\n  const startType = `${type}(start)`;\n  const successType = `${type}(success)`;\n  const failType = `${type}(fail)`;\n\n  const thunkMeta =\n    thunkDefinition[thunkSymbol] || thunkDefinition[thunkOnSymbol];\n  thunkMeta.type = type;\n  thunkMeta.actionName = meta.key;\n  thunkMeta.parent = meta.parent;\n  thunkMeta.path = meta.path;\n\n  const actionCreator = payload => {\n    const dispatchError = err => {\n      references.dispatch({\n        type: failType,\n        payload,\n        error: err,\n      });\n      references.dispatch({\n        type,\n        payload,\n        error: err,\n      });\n    };\n    const dispatchSuccess = result => {\n      references.dispatch({\n        type: successType,\n        payload,\n        result,\n      });\n      references.dispatch({\n        type,\n        payload,\n        result,\n      });\n    };\n\n    references.dispatch({\n      type: startType,\n      payload,\n    });\n    try {\n      const result = references.dispatch(() => thunkHandler(payload));\n      if (typeof result === 'object' && typeof result.then === 'function') {\n        return result\n          .then(resolved => {\n            dispatchSuccess(resolved);\n            return resolved;\n          })\n          .catch(err => {\n            dispatchError(err);\n            throw err;\n          });\n      }\n      dispatchSuccess(result);\n      return result;\n    } catch (err) {\n      dispatchError(err);\n      throw err;\n    }\n  };\n\n  actionCreator.type = type;\n  actionCreator.startType = startType;\n  actionCreator.successType = successType;\n  actionCreator.failType = failType;\n\n  return actionCreator;\n}\n","import { actionOnSymbol, thunkOnSymbol } from './constants';\nimport { get } from './lib';\n\nexport function createListenerMiddleware(references) {\n  return () => next => action => {\n    const result = next(action);\n    if (\n      action &&\n      references.internals.listenerActionMap[action.type] &&\n      references.internals.listenerActionMap[action.type].length > 0\n    ) {\n      const sourceAction = references.internals.actionCreatorDict[action.type];\n      references.internals.listenerActionMap[action.type].forEach(\n        actionCreator => {\n          actionCreator({\n            type: sourceAction ? sourceAction.type : action.type,\n            payload: action.payload,\n            error: action.error,\n            result: action.result,\n          });\n        },\n      );\n    }\n    return result;\n  };\n}\n\nexport function bindListenerDefinitions(\n  listenerDefinitions,\n  actionCreators,\n  actionCreatorDict,\n  listenerActionMap,\n) {\n  listenerDefinitions.forEach(listenerActionOrThunk => {\n    const listenerMeta =\n      listenerActionOrThunk[actionOnSymbol] ||\n      listenerActionOrThunk[thunkOnSymbol];\n\n    const targets = listenerMeta.targetResolver(\n      get(listenerMeta.parent, actionCreators),\n      actionCreators,\n    );\n    const targetTypes = (Array.isArray(targets) ? targets : [targets]).reduce(\n      (acc, target) => {\n        if (\n          typeof target === 'function' &&\n          target.type &&\n          actionCreatorDict[target.type]\n        ) {\n          acc.push(target.type);\n        } else if (typeof target === 'string') {\n          acc.push(target);\n        }\n        return acc;\n      },\n      [],\n    );\n\n    listenerMeta.resolvedTargets = targetTypes;\n\n    targetTypes.forEach(targetType => {\n      const listenerReg = listenerActionMap[targetType] || [];\n      listenerReg.push(actionCreatorDict[listenerMeta.type]);\n      listenerActionMap[targetType] = listenerReg;\n    });\n  });\n}\n","import memoizerific from 'memoizerific';\nimport { get } from './lib';\nimport { computedSymbol } from './constants';\n\nexport function createComputedPropertyBinder(\n  parentPath,\n  key,\n  definition,\n  computedState,\n  references,\n) {\n  const computedMeta = definition[computedSymbol];\n  const memoisedResultFn = memoizerific(1)(definition);\n  return function createComputedProperty(o) {\n    Object.defineProperty(o, key, {\n      configurable: true,\n      enumerable: true,\n      get: () => {\n        let storeState;\n        if (computedState.isInReducer) {\n          storeState = computedState.currentState;\n        } else if (references.getState == null) {\n          return undefined;\n        } else {\n          try {\n            storeState = references.getState();\n          } catch (err) {\n            if (process.env.NODE_ENV !== 'production') {\n              console.warn('Invalid access attempt to a computed property');\n            }\n            return undefined;\n          }\n        }\n        const state = get(parentPath, storeState);\n        const inputs = computedMeta.stateResolvers.map(resolver =>\n          resolver(state, storeState),\n        );\n        return memoisedResultFn(...inputs);\n      },\n    });\n  };\n}\n\nexport function createComputedPropertiesMiddleware(references) {\n  return store => next => action => {\n    references.internals.computedState.currentState = store.getState();\n    references.internals.computedState.isInReducer = true;\n    return next(action);\n  };\n}\n","import isPlainObject from 'is-plain-object';\nimport {\n  actionOnSymbol,\n  actionSymbol,\n  computedSymbol,\n  persistSymbol,\n  reducerSymbol,\n  thunkOnSymbol,\n  thunkSymbol,\n} from './constants';\nimport { get, set } from './lib';\nimport { extractPersistConfig } from './persistence';\nimport { createActionCreator } from './actions';\nimport { createThunkHandler, createThunkActionsCreator } from './thunks';\nimport { bindListenerDefinitions } from './listeners';\nimport { createComputedPropertyBinder } from './computed-properties';\n\nexport default function extractDataFromModel(\n  model,\n  initialState,\n  injections,\n  references,\n) {\n  const defaultState = initialState;\n  const actionCreatorDict = {};\n  const actionCreators = {};\n  const actionReducersDict = {};\n  const actionThunks = {};\n  const computedProperties = [];\n  const customReducers = [];\n  const listenerActionCreators = {};\n  const listenerActionMap = {};\n  const listenerDefinitions = [];\n  const persistenceConfig = [];\n  const computedState = {\n    isInReducer: false,\n    currentState: defaultState,\n  };\n\n  const recursiveExtractFromModel = (current, parentPath) =>\n    Object.keys(current).forEach(key => {\n      const value = current[key];\n      const path = [...parentPath, key];\n      const meta = {\n        parent: parentPath,\n        path,\n        key,\n      };\n      const handleValueAsState = () => {\n        const initialParentRef = get(parentPath, initialState);\n        if (initialParentRef && key in initialParentRef) {\n          set(path, defaultState, initialParentRef[key]);\n        } else {\n          set(path, defaultState, value);\n        }\n      };\n\n      if (key === persistSymbol) {\n        persistenceConfig.push(extractPersistConfig(parentPath, value));\n        return;\n      }\n\n      if (typeof value === 'function') {\n        if (value[actionSymbol] || value[actionOnSymbol]) {\n          const actionReducer = value;\n          const actionCreator = createActionCreator(value, meta, references);\n          actionCreatorDict[actionCreator.type] = actionCreator;\n          actionReducersDict[actionCreator.type] = actionReducer;\n          if (meta.key !== 'easyPeasyReplaceState') {\n            if (value[actionOnSymbol]) {\n              listenerDefinitions.push(value);\n              set(path, listenerActionCreators, actionCreator);\n            } else {\n              set(path, actionCreators, actionCreator);\n            }\n          }\n        } else if (value[thunkSymbol] || value[thunkOnSymbol]) {\n          const thunkHandler = createThunkHandler(\n            value,\n            meta,\n            references,\n            injections,\n            actionCreators,\n          );\n          const actionCreator = createThunkActionsCreator(\n            value,\n            meta,\n            references,\n            thunkHandler,\n          );\n          set(path, actionThunks, thunkHandler);\n          actionCreatorDict[actionCreator.type] = actionCreator;\n          if (value[thunkOnSymbol]) {\n            listenerDefinitions.push(value);\n            set(path, listenerActionCreators, actionCreator);\n          } else {\n            set(path, actionCreators, actionCreator);\n          }\n        } else if (value[computedSymbol]) {\n          const parent = get(parentPath, defaultState);\n          const bindComputedProperty = createComputedPropertyBinder(\n            parentPath,\n            key,\n            value,\n            computedState,\n            references,\n          );\n          bindComputedProperty(parent);\n          computedProperties.push({ key, parentPath, bindComputedProperty });\n        } else if (value[reducerSymbol]) {\n          customReducers.push({ key, parentPath, reducer: value });\n        } else {\n          handleValueAsState();\n        }\n      } else if (isPlainObject(value)) {\n        const existing = get(path, defaultState);\n        if (existing == null) {\n          set(path, defaultState, {});\n        }\n        recursiveExtractFromModel(value, path);\n      } else {\n        handleValueAsState();\n      }\n    });\n\n  recursiveExtractFromModel(model, []);\n\n  bindListenerDefinitions(\n    listenerDefinitions,\n    actionCreators,\n    actionCreatorDict,\n    listenerActionMap,\n  );\n\n  return {\n    actionCreatorDict,\n    actionCreators,\n    actionReducersDict,\n    computedProperties,\n    customReducers,\n    computedState,\n    defaultState,\n    listenerActionCreators,\n    listenerActionMap,\n    persistenceConfig,\n  };\n}\n","import createReducer from './create-reducer';\nimport extractDataFromModel from './extract-data-from-model';\n\nexport default function createStoreInternals({\n  disableImmer,\n  initialState,\n  injections,\n  model,\n  reducerEnhancer,\n  references,\n}) {\n  const {\n    actionCreatorDict,\n    actionCreators,\n    actionReducersDict,\n    computedState,\n    computedProperties,\n    customReducers,\n    defaultState,\n    listenerActionCreators,\n    listenerActionMap,\n    persistenceConfig,\n  } = extractDataFromModel(model, initialState, injections, references);\n\n  const rootReducer = createReducer(\n    disableImmer,\n    actionReducersDict,\n    customReducers,\n    computedProperties,\n  );\n\n  return {\n    actionCreatorDict,\n    actionCreators,\n    computedProperties,\n    computedState,\n    defaultState,\n    listenerActionCreators,\n    listenerActionMap,\n    persistenceConfig,\n    reducer: reducerEnhancer(rootReducer),\n  };\n}\n","import {\n  applyMiddleware,\n  compose as reduxCompose,\n  createStore as reduxCreateStore,\n} from 'redux';\nimport reduxThunk from 'redux-thunk';\nimport * as helpers from './helpers';\nimport createStoreInternals from './create-store-internals';\nimport {\n  createPersistor,\n  createPersistMiddleware,\n  createPersistenceClearer,\n  rehydrateStateFromPersistIfNeeded,\n} from './persistence';\nimport { createComputedPropertiesMiddleware } from './computed-properties';\nimport { createListenerMiddleware } from './listeners';\nimport { deepCloneStateWithoutComputed } from './lib';\n\nexport default function createStore(model, options = {}) {\n  const modelClone = deepCloneStateWithoutComputed(model);\n  const {\n    compose,\n    devTools = true,\n    disableImmer = false,\n    enhancers = [],\n    initialState = {},\n    injections,\n    middleware = [],\n    mockActions = false,\n    name: storeName = `EasyPeasyStore`,\n    reducerEnhancer = rootReducer => rootReducer,\n  } = options;\n\n  const bindReplaceState = modelDef => {\n    return {\n      ...modelDef,\n      easyPeasyReplaceState: helpers.action((_, payload) => payload),\n    };\n  };\n\n  const references = {};\n\n  let modelDefinition = bindReplaceState(modelClone);\n  let mockedActions = [];\n\n  const persistKey = targetPath => `[${storeName}]@${targetPath.join('.')}`;\n  const persistor = createPersistor(persistKey, references);\n  const persistMiddleware = createPersistMiddleware(persistor, references);\n  const clearPersistance = createPersistenceClearer(persistKey, references);\n\n  const replaceState = nextState =>\n    references.internals.actionCreatorDict['@action.easyPeasyReplaceState'](\n      nextState,\n    );\n\n  const bindStoreInternals = (state = {}) => {\n    references.internals = createStoreInternals({\n      disableImmer,\n      initialState: state,\n      injections,\n      model: modelDefinition,\n      reducerEnhancer,\n      references,\n    });\n  };\n\n  const mockActionsMiddleware = () => () => action => {\n    if (action != null) {\n      mockedActions.push(action);\n    }\n    return undefined;\n  };\n\n  const composeEnhancers =\n    compose ||\n    (devTools &&\n    typeof window !== 'undefined' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n          name: storeName,\n        })\n      : reduxCompose);\n\n  bindStoreInternals(initialState);\n\n  const easyPeasyMiddleware = [\n    createComputedPropertiesMiddleware(references),\n    reduxThunk,\n    ...middleware,\n    createListenerMiddleware(references),\n    persistMiddleware,\n  ];\n\n  if (mockActions) {\n    easyPeasyMiddleware.push(mockActionsMiddleware);\n  }\n\n  const store = reduxCreateStore(\n    references.internals.reducer,\n    references.internals.defaultState,\n    composeEnhancers(applyMiddleware(...easyPeasyMiddleware), ...enhancers),\n  );\n\n  store.subscribe(() => {\n    references.internals.computedState.isInReducer = false;\n  });\n\n  references.dispatch = store.dispatch;\n  references.getState = store.getState;\n\n  const bindActionCreators = () => {\n    Object.keys(store.dispatch).forEach(actionsKey => {\n      delete store.dispatch[actionsKey];\n    });\n    Object.keys(references.internals.actionCreators).forEach(key => {\n      store.dispatch[key] = references.internals.actionCreators[key];\n    });\n  };\n\n  bindActionCreators();\n\n  const rebindStore = removeKey => {\n    const currentState = store.getState();\n    if (removeKey) {\n      delete currentState[removeKey];\n    }\n    bindStoreInternals(currentState);\n    store.replaceReducer(references.internals.reducer);\n    replaceState(references.internals.defaultState);\n    bindActionCreators();\n  };\n\n  const resolveRehydration = rehydrateStateFromPersistIfNeeded(\n    persistKey,\n    replaceState,\n    references,\n  );\n\n  return Object.assign(store, {\n    addModel: (key, modelForKey) => {\n      if (modelDefinition[key] && process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `easy-peasy: The store model already contains a model definition for \"${key}\"`,\n        );\n        store.removeModel(key);\n      }\n      modelDefinition[key] = modelForKey;\n      rebindStore();\n    },\n    clearMockedActions: () => {\n      mockedActions = [];\n    },\n    getActions: () => references.internals.actionCreators,\n    getListeners: () => references.internals.listenerActionCreators,\n    getMockedActions: () => [...mockedActions],\n    persist: {\n      clear: clearPersistance,\n      flush: () => persistor.flush(),\n      resolveRehydration: () => resolveRehydration,\n    },\n    reconfigure: newModel => {\n      modelDefinition = bindReplaceState(newModel);\n      rebindStore();\n    },\n    removeModel: key => {\n      if (!modelDefinition[key]) {\n        if (process.env.NODE_ENV !== 'production') {\n          // eslint-disable-next-line no-console\n          console.warn(\n            `easy-peasy: The store model does not contain a model definition for \"${key}\"`,\n          );\n        }\n        return;\n      }\n      delete modelDefinition[key];\n      rebindStore(key);\n    },\n  });\n}\n","/* eslint-disable react/prop-types */\n\nimport React, { createContext, useContext, useMemo } from 'react';\nimport {\n  createStoreActionsHook,\n  createStoreDispatchHook,\n  createStoreStateHook,\n  createStoreRehydratedHook,\n} from './hooks';\nimport createStore from './create-store';\n\nexport default function createContextStore(model, config) {\n  const StoreContext = createContext();\n\n  function Provider({ children, initialData }) {\n    const store = useMemo(\n      () =>\n        createStore(\n          typeof model === 'function' ? model(initialData) : model,\n          config,\n        ),\n      [],\n    );\n    return (\n      <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\n    );\n  }\n\n  function useStore() {\n    return useContext(StoreContext);\n  }\n\n  return {\n    Provider,\n    useStore,\n    useStoreState: createStoreStateHook(StoreContext),\n    useStoreActions: createStoreActionsHook(StoreContext),\n    useStoreDispatch: createStoreDispatchHook(StoreContext),\n    useStoreRehydrated: createStoreRehydratedHook(StoreContext),\n  };\n}\n","import { useMemo, useState, useRef, useEffect } from 'react';\nimport createStore from './create-store';\n\n/**\n * Some good references on the topic of reinitialisation:\n * - https://github.com/facebook/react/issues/14830\n */\n\nexport default function createComponentStore(model, config) {\n  return function useLocalStore(initialData) {\n    const store = useMemo(\n      () =>\n        createStore(\n          typeof model === 'function' ? model(initialData) : model,\n          config,\n        ),\n      [],\n    );\n    const previousStateRef = useRef(store.getState());\n    const [currentState, setCurrentState] = useState(() => store.getState());\n    useEffect(() => {\n      return store.subscribe(() => {\n        const nextState = store.getState();\n        if (previousStateRef.current !== nextState) {\n          previousStateRef.current = nextState;\n          setCurrentState(nextState);\n        }\n      });\n    }, [store]);\n    return [currentState, store.getActions()];\n  };\n}\n","/**\n * This file has been copied from redux-persist.\n * The intention being to support as much of the redux-persist API as possible.\n */\n\nexport default function createTransform(inbound, outbound, config = {}) {\n  const whitelist = config.whitelist || null;\n  const blacklist = config.blacklist || null;\n\n  function whitelistBlacklistCheck(key) {\n    if (whitelist && whitelist.indexOf(key) === -1) return true;\n    if (blacklist && blacklist.indexOf(key) !== -1) return true;\n    return false;\n  }\n\n  return {\n    in: (data, key, fullState) =>\n      !whitelistBlacklistCheck(key) && inbound\n        ? inbound(data, key, fullState)\n        : data,\n    out: (data, key, fullState) =>\n      !whitelistBlacklistCheck(key) && outbound\n        ? outbound(data, key, fullState)\n        : data,\n  };\n}\n","import React from 'react';\nimport StoreContext from './context';\n\nexport default function StoreProvider({ children, store }) {\n  return (\n    <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\n  );\n}\n","import { setAutoFreeze } from 'immer-peasy';\nimport {\n  createTypedHooks,\n  useStoreActions,\n  useStoreDispatch,\n  useStoreState,\n  useStoreRehydrated,\n  useStore,\n} from './hooks';\nimport createStore from './create-store';\nimport createContextStore from './create-context-store';\nimport createComponentStore from './create-component-store';\nimport createTransform from './create-transform';\nimport StoreProvider from './provider';\nimport {\n  action,\n  actionOn,\n  computed,\n  debug,\n  memo,\n  persist,\n  reducer,\n  thunk,\n  thunkOn,\n} from './helpers';\n\n/**\n * The auto freeze feature of immer doesn't seem to work in our testing. We have\n * explicitly disabled it to avoid perf issues.\n */\nsetAutoFreeze(false);\n\nexport {\n  action,\n  actionOn,\n  computed,\n  createComponentStore,\n  createContextStore,\n  createStore,\n  createTransform,\n  createTypedHooks,\n  debug,\n  memo,\n  persist,\n  reducer,\n  StoreProvider,\n  thunk,\n  thunkOn,\n  useStoreActions,\n  useStoreDispatch,\n  useStoreState,\n  useStoreRehydrated,\n  useStore,\n};\n"],"names":["StoreContext","createContext","useIsomorphicLayoutEffect","window","useLayoutEffect","useEffect","createStoreStateHook","Context","useStoreState","mapState","store","useContext","mapStateRef","useRef","stateRef","mountedRef","subscriptionMapStateError","useReducer","s","forceRender","current","undefined","getState","err","errorMessage","message","stack","Error","checkMapState","newState","unsubscribe","subscribe","EasyPeasyContext","createStoreActionsHook","useStoreActions","mapActions","getActions","createStoreDispatchHook","useStoreDispatch","dispatch","useStore","createStoreRehydratedHook","useStoreRehydrated","useState","rehydrated","setRehydrated","persist","resolveRehydration","then","createTypedHooks","actionSymbol","actionOnSymbol","computedSymbol","persistSymbol","reducerSymbol","thunkOnSymbol","thunkSymbol","debug","state","isDraft","original","memo","fn","cacheSize","memoizerific","actionOn","targetResolver","action","defaultStateResolvers","computed","fnOrStateResolvers","stateResolvers","model","config","thunkOn","thunk","reducer","deepCloneStateWithoutComputed","source","recursiveClone","next","Object","keys","reduce","acc","key","getOwnPropertyDescriptor","get","forEach","isPlainObject","isPromise","x","path","target","cur","newify","currentPath","currentState","finalValue","length","slice","set","value","idx","createSimpleProduce","disableImmer","simpleProduce","draft","createDraft","result","finishDraft","parentPath","parent","createReducer","actionReducersDict","customReducers","computedProperties","runActionReducerAtPath","actionReducer","payload","reducerForActions","type","actionMeta","reducerForCustomReducers","red","rootReducer","stateAfterActions","bindComputedProperty","noopStorage","getItem","setItem","removeItem","localStorage","sessionStorage","createStorageWrapper","storage","transformers","process","env","NODE_ENV","console","warn","outTransformers","reverse","serialize","data","simpleKey","substr","indexOf","transformed","in","JSON","stringify","deserialize","parse","out","isAsync","wrapped","extractPersistConfig","persistDefinition","blacklist","mergeStrategy","whitelist","resolvePersistTargets","targets","findIndex","createPersistor","persistKey","references","debounce","internals","persistenceConfig","persistRoot","targetPath","createPersistMiddleware","persistor","createPersistenceClearer","Promise","resolve","reject","all","map","rehydrateStateFromPersistIfNeeded","replaceState","persistInstance","defaultState","applyRehydrationStrategy","originalState","rehydratedState","setAt","currentTarget","currentNext","asyncStateResolvers","dataPromise","push","resolvedData","createActionCreator","actionDefinition","meta","prefix","join","actionName","actionCreator","resolvedTargets","createThunkHandler","thunkDefinition","injections","actionCreators","thunkMeta","helpers","getStoreActions","getStoreState","createThunkActionsCreator","thunkHandler","startType","successType","failType","dispatchError","error","dispatchSuccess","resolved","catch","createListenerMiddleware","listenerActionMap","sourceAction","actionCreatorDict","bindListenerDefinitions","listenerDefinitions","listenerActionOrThunk","listenerMeta","targetTypes","Array","isArray","targetType","listenerReg","createComputedPropertyBinder","definition","computedState","computedMeta","memoisedResultFn","createComputedProperty","o","defineProperty","configurable","enumerable","storeState","isInReducer","inputs","resolver","createComputedPropertiesMiddleware","extractDataFromModel","initialState","actionThunks","listenerActionCreators","recursiveExtractFromModel","handleValueAsState","initialParentRef","existing","createStoreInternals","reducerEnhancer","createStore","options","modelClone","compose","devTools","enhancers","middleware","mockActions","name","storeName","bindReplaceState","modelDef","easyPeasyReplaceState","_","modelDefinition","mockedActions","persistMiddleware","clearPersistance","nextState","bindStoreInternals","mockActionsMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","reduxCompose","easyPeasyMiddleware","reduxThunk","reduxCreateStore","applyMiddleware","bindActionCreators","actionsKey","rebindStore","removeKey","replaceReducer","assign","addModel","modelForKey","removeModel","clearMockedActions","getListeners","getMockedActions","clear","flush","reconfigure","newModel","createContextStore","Provider","children","initialData","useMemo","createComponentStore","useLocalStore","previousStateRef","setCurrentState","createTransform","inbound","outbound","whitelistBlacklistCheck","fullState","StoreProvider","setAutoFreeze"],"mappings":"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"}